let arrayData = {
    "consoles": [{
            "product": "Playstation 5",
            "pics": ["assets/img/ps5-c1.jpg", "assets/img/ps5-c2.jpg", "assets/img/ps5-c3.jpg"],
            "picsDescription": ["Vue PS5 1", "Vue PS5 2", "Vue PS5 3"],
            "reference": "000001",
            "price": 499,
            "infos": "FUTUR CADEAU D'ANOUSONE"
        },
        {
            "product": "Xbox Série X",
            "pics": ["assets/img/xobxX-c1.jpg", "assets/img/xobxX-c2.jpg", "assets/img/xobxX-c3.jpg"],
            "picsDescription": ["Vue Xbox Série X 1", "Vue Xbox Série X 2", "Xbox Série X 3"],
            "reference": "000002",
            "price": 499,
            "infos": "La Xbox Series X de Microsoft est un concentré de nouvelles technologies. Elle permet de jouer dans les meilleures conditions en 4K et jusqu'à 120 FPS."
        }, {
            "product": "3DS",
            "pics": ["assets/img/console/3DS/3ds-1.jpg", "assets/img/console/3DS/3ds-2.jpg", "assets/img/console/3DS/3ds-3.jpg"],
            "picsDescription": ["Vue 3DS 1", "Vue 3DS 2", "Vue 3DS 3"],
            "reference": "000003",
            "price": 120,
            "infos": "Console portable de huitième génération développée par Nintendo, ayant pour particularité un affichage en 3D autostéréoscopique (sans lunettes)."
        }, {
            "product": "PSP",
            "pics": ["assets/img/console/psp/psp-1.jpg", "assets/img/console/psp/psp-2.jpg", "assets/img/console/psp/psp-3.jpg"],
            "picsDescription": ["Vue PSP 1", "Vue PSP 2", "Vue PSP 3"],
            "reference": "000003",
            "price": 130,
            "infos": "La PSP est bien plus qu'une simple console de jeux : elle permet également, entre autres, d'écouter ou de stocker des MP3 et de visionner des vidéos. Elle dispose également d'une fonctionnalité Wi-Fi pour jouer en réseau et pour surfer sur l'internet."
        }, {
            "product": "Switch",
            "pics": ["assets/img/switch-c1.jpg", "assets/img/switch-c2.jpg", "assets/img/switch-c3.jpg"],
            "picsDescription": ["Vue Switch 1", "Vue Switch 2", "Vue Switch  3"],
            "reference": "000004",
            "price": 299,
            "infos": "La Switch est la septième console de salon de Nintendo. Elle est sortie au début du mois de mars 2017. Celle-ci reprend en partie le principe de la Wii U, mais en rendant son module portable totalement indépendant, ce qui permet d’en profiter aussi bien dans son salon qu’en mobilité."
        }, {
            "product": "Playstation 4",
            "pics": ["assets/img/console/ps4/ps4-1_o.jpg", "assets/img/console/ps4/ps4-2.jpg", "assets/img/console/ps4/ps4-3.jpg"],
            "picsDescription": ["Vue PS4 1", "Vue PS4 2", "Vue PS4 3"],
            "reference": "000005",
            "price": 109,
            "infos": "Sortie en novembre 2013, la PlayStation 4 est la console la plus populaire de la huitième génération. Elle a l'avantage de la puissance devant la Xbox One et la Switch. Elle dispose d'un lecteur Blu-Ray et d'un disque dur intégré de 500 Go ou de 1 To."
        }
    ],
    "jeux": [{
            "product": "Gran Turismo 7 sur Playstation 5",
            "pics": "assets/img/ps5-1.png",
            "picsDescription": "image du jeu Gran Turismo 7",
            "reference": "000101",
            "price": 64.99,
            "infos": "Que vous soyez un pilote compétitif, un collectionneur, un fin technicien, un créateur de livrées, un photographe ou un fan d'arcade, votre passion pour les automobiles va s'enflammer avec les fonctionnalités inspirées du passé, du présent et du futur de Gran Turismo."

        },
        {
            "product": "Demon's Souls sur Playstation 5",
            "pics": "assets/img/ps5-2.png",
            "picsDescription": "image du jeu Demon's Souls",
            "reference": "000102",
            "price": 64.99,
            "infos": "Prennez place dans le royaume fictif de Bolétaria, qui a été englouti par un brouillard épais et envahi par des démons en raison de la soif de puissance du monarque, le roi Allant XII.",

        },
        {
            "product": "SackBoy sur Playstation 5",
            "pics": "assets/img/ps5-3.png",
            "picsDescription": "image du jeu Sackboy",
            "reference": "000103",
            "price": 64.99,
            "infos": "Affrontez des défis palpitants et imprévisibles en explorant des niveaux « faits-main » uniques grâce à des contrôles immersifs. Une expérience plateforme périlleuse Explorez les moindres recoins avec la panoplie de mouvements cool et divers de Sackboy et faites face à une quantité incroyable de challenges variés, d’ennemis féroces et de surprises inattendues. Rembourré. Recousu. Rezippé. Sackboy revient avec des nouveaux mouvements et des gadgets inédits dans une toute nouvelle aventure en 3D fun et impressionnante, dans un monde à la fois neuf et familier.",

        },
        {
            "product": "the last of us sur Plastation 4",
            "pics": "assets/img/ps4-1.jpg",
            "picsDescription": "image du jeu The Last of us",
            "reference": "000104",
            "price": 20,
            "infos": "The Last of Us Revient sur PS4 ! Le monde que nous connaissons n'existe plus. L'humanité a été infectée par un virus transformant les hommes en bêtes sanguinaires. Vous incarnez Joel durant son périple à travers des Etats-Unis dévastés. Accompagné d'Ellie, une jeune fille aussi brave que fragile, vous devrez lutter pour survivre et échapper aux infectés mais surtout aux hommes restants que la soif de vivre a rendus fous. Un genre nouveau - A la croisée des chemins entre survival horror et jeu d'action/aventure. Une histoire et une narration unique - Le joueur se retrouve seul au coeur d'un monde dévasté et hostile qui le mettra face à ses contradictions. Deux jeux en un - Le jeu original The Last of Us et son extension Left Behind. Des graphismes retravaillés - Une version optimisée pour la PS4 en 1080p. Un mode multijoueur ultra complet - Contient les deux DLC de map packs. Un documentaire en bonus - « Grounded » vous expliquera tout sur The Last of Us",

        },
        {
            "product": "Tomb Raider sur Playstation 4",
            "pics": "assets/img/ps4-2.jpg",
            "picsDescription": "image du jeu Tomb Raider",
            "reference": "000105",
            "price": 20,
            "infos": "TOMB RAIDER : DEFINITIVE EDITION est un jeu d'action et d'aventure qui voit une jeune Lara Croft inexpérimentée devenir une combattante endurcie pour survivre. Cette toute nouvelle version conçue spécifiquement pour  PlayStation 4 propose une Lara plus détaillée que jamais et un univers de jeu ultra réaliste."
        },
        {
            "product": "Days Gone sur Playstation 4",
            "pics": "assets/img/ps4-3.jpg",
            "picsDescription": "image du jeu Days Gone",
            "reference": "000106",
            "price": 20,
            "infos": "Jeu d'aventure en monde ouvert, Days Gone nous emmène dans un monde apocalyptique. Deux ans après une pandémie qui a ravagé la planète, Deacon St John, ancien biker, essaie tant bien que mal de survivre suite à une tragédie personnelle. Essayant de renouer avec son passé, il devra aider plusieurs survivants tout en affrontant des hordes de mutants, pillards et autres créatures sauvages.",
        },
        {
            "product": "Watch Dogs Legion sur Xbox série X",
            "pics": "assets/img/xboxX-1.jpg",
            "picsDescription": "image du jeu Watch Dogs",
            "reference": "000107",
            "price": 49.99,
            "infos": "Watch Dogs Legion, troisième épisode de la série d'Ubisoft, vous plonge dans le Londres post-Brexit ultra-connecté et surveillé. Vous aurez la possibilité d'hacker n'importe qui, mais aussi d'en prendre possession. Chaque mort est permanente, d'où l'utilité de prendre possession des PNJ."
        },
        {
            "product": "Assassin's Creed valhalla sur Xbox série X",
            "pics": "assets/img/xboxX-2.jpg",
            "picsDescription": "image du jeu Assassin's Creed",
            "reference": "000108",
            "price": 49.99,
            "infos": "Assassin's Creed Valhalla est un RPG en monde ouvert se déroulant pendant l'âge des vikings. Vous incarnez Eivor, un viking du sexe de votre choix qui a quitté la Norvège pour trouver la fortune et la gloire en Angleterre. Raids, construction et croissance de votre colonie, mais aussi personnalisation du héros ou de l'héroïne sont au programme de cet épisode."
        },
        {
            "product": "DIRT5 sur Xbox série X",
            "pics": "assets/img/xboxX-3.jpg",
            "picsDescription": "image du jeu DIRT5",
            "reference": "000109",
            "price": 49.99,
            "infos": "DiRT 5 est le prochain épisode de la série de jeu de course DiRT. Celui-ci se veut plus permissif et ambitieux. Il apporte une approche nouvelle, de l'innovation ainsi que des fonctionnalités inédites pour la série."
        },
        {
            "product": "Paw Patrol sur Switch",
            "pics": "assets/img/switch-1.jpg",
            "picsDescription": "image du jeu Paw Patrol",
            "reference": "000110",
            "price": 45,
            "infos": "Basé sur la série animée à succès de Nickelodeon, Paw Patrol comprend 16 aventures mettant en vedette les huit chiots héroïques et Ryder. Aidez chaque chiot à utiliser ses compétences uniques pour sauver la communauté."
        },
        {
            "product": "Super Mario 3D All Stars sur Switch",
            "pics": "assets/img/switch-2.jpg",
            "picsDescription": "image du jeu Super Mario",
            "reference": "000111",
            "price": 45,
            "infos": "Super Mario 3D All-Stars est une compilation des trois jeux de plateforme en 3D Super Mario 64, Super Mario Sunshine et Super Mario Galaxy dans des versions optimisées avec des graphismes en haute-définition. Le jeu comporte également les bande-sons des 3 jeux avec 170 pistes musicales."
        },
        {
            "product": "Hyrule Warriors sur Switch",
            "pics": "assets/img/switch-3.jpg",
            "picsDescription": "image du jeu Hyrule Warriors",
            "reference": "000112",
            "price": 45,
            "infos": "Hyrule Warriors est un beat'em all sur Wii U. Le jeu transpose l'univers de la série Zelda dans un jeu de combat de masse à la Dynasty Warriors qui multiplie les références aux différents jeux de la saga. En marge du mode Légende scénarisé, un mode Aventure s'inspire de la map du premier Zelda pour proposer une multitude de défis teintés d'exploration. Le coop à deux joueurs est autorisé et les personnages voient leurs capacités évoluer au fil du jeu."
        },
        {
            "product": "Assassin's Creed sur PSP",
            "pics": "assets/img/psp-Ass1.jpg",
            "picsDescription": "image du jeu Assassin's Creed",
            "reference": "000113",
            "price": 20,
            "infos": "Dans Assassin's Creed : Bloodlines sur PSP vous incarnez de nouveau le très agile Altaïr qui se rend à Chypre afin de poursuivre l'élimination des templiers. Au programme 8 nouveaux types de missions sont proposées dans cet épisode qui sert de lien entre Assassin's Creed 1 et 2 et propose d'éclaircir certains mystères laissés en suspens dans le premier volet."
        },
        {
            "product": "Grand Theft Auto sur PSP",
            "pics": "assets/img/psp-GTA1.jpg",
            "picsDescription": "image du jeu Grand Theft Auto",
            "reference": "000114",
            "price": 20,
            "infos": "Grand Theft Auto : Chinatown Wars est un opus DS totalement inédit issu de la célèbre série d'action. Le joueur traverse des environnements ouverts et interactifs et finit par découvrir la vérité cachée derrière les rumeurs de crimes et de corruptions au sein de la Triade. Un mode multijoueur est de la partie."
        },
        {
            "product": "Harry Potter sur PSP",
            "pics": "assets/img/psp-HP1.jpg",
            "picsDescription": "image du jeu Harry Potter",
            "reference": "000115",
            "price": 20,
            "infos": "Dans Harry Potter et le Prince de Sang-Mêlé sur PSP, les joueurs reviennent à Poudlard pour aider Harry à survivre à une sixième année pleine de dangers. Ils découvriront l'identité du Prince de Sang-Mêlé, mais pourront aussi participer à des duels de sorciers, concocter des potions en tout genre, s'envoler pour mener l'équipe de Quidditch de Gryffondor à la victoire et même suivre les frasques amoureuses de Ron !"
        },
        {
            "product": "Luigi's mansion sur 3DS",
            "pics": "assets/img/3DS-1.jpg",
            "picsDescription": "image du jeu Luigi's Mansion",
            "reference": "000116",
            "price": 20,
            "infos": "Jeu d'action et d'aventure, Luigi's Mansion vous permet d'incarner le célèbre Luigi. Alors qu'il gagne un fabuleux manoir lors d'une loterie, Luigi doit partir à la recherche de son ami Mario qui s'est retrouvé piégé à l'intérieur de cette demeure. Armé de votre aspirateur, vous devrez éliminer les monstres qui se dresseront sur votre chemin."
        },
        {
            "product": "L'aventure LAYTON sur 3DS",
            "pics": "assets/img/3DS-2.jpg",
            "picsDescription": "image du jeu L'aventure LAYTON",
            "reference": "000117",
            "price": 20,
            "infos": "L'aventure Layton : Katrielle et la conspiration des millionnaires est un jeu d'aventure réflexion dans le joueur incarne non plus le professeur Layton mais bel et bien sa fille. Le jeu reprend une formule similaire à celle des précédents épisodes, en mêlant habilement aventure et réflexion."
        },
        {
            "product": "MIItiopia sur 3DS",
            "pics": "assets/img/3DS-3.jpg",
            "picsDescription": "image du jeu MIItiopia",
            "reference": "000118",
            "price": 20,
            "infos": "Miitopia est un RPG sur 3DS. Dans cet univers, tout le monde est un Mii. Vous prenez part à une quête amusante et décalée avec les Mii de votre choix. Les joueurs ont en plus la possibilité de les importer de Tomodachi Life, de Miimoto ou d'en créer de nouveaux."
        }
    ],
    "accessoires": [{
        "product": "Casque Audio Sony Playstation 5",
        "pics": ["assets/img/accessoires/ps5/ps5acc1.webp"],
        "picsDescription": "Vue Casque Audio Sony PS5",
        "reference": "000201",
        "price": 179,
        "infos": "Le casque est équipé de la technologie Tempest 3D AudioTech, il est idéal pour s’associer aux technologies de la console PS5 pour vous plonger dans des univers sonores immersifs où vous aurez l’impression que les sons viennent de toutes les directions."
    }, {
        "product": "Casque VR Sony Playstation 5",
        "pics": ["assets/img/accessoires/ps5/ps5acc2.jpg"],
        "picsDescription": "Vue Casque VR Sony PS5",
        "reference": "000202",
        "price": 199,
        "infos": "Le casque de réalité virtuelle de Sony est doté d'un grand écran Oled unique (5,7'' de diagonale), d'une définition de 960 x 1080 pixels par œil et d'un champ de vision d'environ 100°. En termes de tracking, il propose un accéléromètre, un Gyroscope et 9 capteurs LED (pour la Playstation Camera)."
    }, {
        "product": "Station de charge manettes Playstation 5",
        "pics": ["assets/img/accessoires/ps5/ps5acc3.png"],
        "picsDescription": "Vue Station de charge manettes PS5",
        "reference": "0000203",
        "price": 29,
        "infos": "Connectez jusqu'à deux manettes sans fil DualSense5 rapidement et en toute simplicité grâce au design de la station de rechargement. Vos manettes se rechargent aussi rapidement que si vous les aviez connectées à votre console PS5, alors vous pouvez libérer des ports USB sans limiter vos performances."
    }, {
        "product": "Station de charge manettes Xbox Série X",
        "pics": ["assets/img/accessoires/xbox-serie-x/xboxacc1.webp"],
        "picsDescription": "Vue Station de charge manettes Xbox Série X",
        "reference": "0000204",
        "price": 23,
        "infos": "Ayez toujours deux manettes Xbox Series X et S chargées avec cette double station d’accueil puissante. Le design compact permet d’économiser de l’espace autour de votre console."
    }, {
        "product": "Casque Audio Sony Xbox Série X",
        "pics": ["assets/img/accessoires/xbox-serie-x/xboxacc2.png"],
        "picsDescription": "Vue Casque Audio Sony Xbox Série X",
        "reference": "000205",
        "price": 99,
        "infos": "Le casque gaming sans fil Stealth™ 600 Gen 2 de Turtle Beach® pour Xbox One et Xbox Series X offre un confort et une performance améliorés pour un avantage de jeu décisif."
    }, {
        "product": "Manette sans fil Xbox Série X",
        "pics": ["assets/img/accessoires/xbox-serie-x/xboxacc3.jpg"],
        "picsDescription": "Vue Manette sans fil Xbox Série X",
        "reference": "000206",
        "price": 60,
        "infos": "Découvrez la nouvelle manette sans fil Xbox, conçue pour un confort de jeu optimal. Disponible en Robot White, Noir carbone et Bleu foncé."
    }, {
        "product": "Pochette de rangement Nintendo 3DS Editions Mario",
        "pics": ["assets/img/accessoires/3DS/3dsacc1.jpg"],
        "picsDescription": "Vue Pochette de rangement Nintendo 3DS Editions Mario",
        "reference": "000207",
        "price": 12,
        "infos": "Pochette officielle Bigben Mario pour Nintendo 3DS."
    }, {
        "product": "Chargeur Nintendo 3DS",
        "pics": ["assets/img/accessoires/3DS/3dsacc2.jpg"],
        "picsDescription": "Vue Chargeur Nintendo 3DS",
        "reference": "000208",
        "price": 10,
        "infos": "Link-e : Chargeur secteur pour console Nintendo 3DS, 3DS xl, New 3DS, 2DS, DSI xl, DSI (câble, alimentation, transfo)."
    }, {
        "product": "Etuis de rangement Nintendo 3DS",
        "pics": ["assets/img/accessoires/3DS/3dsacc3.jpg"],
        "picsDescription": "Etuis de rangement Nintendo 3DS",
        "reference": "000209",
        "price": 10,
        "infos": "Poche interne en maille pour le garder des câbles y compris support élastique pour le stylet. Avec logement pour stocker plusieurs jeux."
    }, {
        "product": "Batterie de rechange PSP",
        "pics": ["assets/img/accessoires/psp/pspacc1.jpg"],
        "picsDescription": "Vue Batterie de rechange PSP",
        "reference": "000210",
        "price": 60,
        "infos": "Équipée de deux lentilles pour capturer en 1080p et d'un support intégré, la Caméra HD fonctionne avec les outils de suppression de l'arrière-plan de la console PS5 pour vous mettre en pleine lumière. Créez rapidement un enregistrement ou une diffusion de vous-même et de votre gameplay grâce à la touche Create1 de votre manette sans fil DualSense™. Capturez des instants inoubliables."
    }, {
        "product": "Pochette de rangement PSP",
        "pics": ["assets/img/accessoires/psp/pspacc2.jpg"],
        "picsDescription": "Vue Pochette de rangement PSP",
        "reference": "0000211",
        "price": 10,
        "infos": "Conception personnalisée Pour Sony PSP. Top qualité pochette avec finition main-point. Look de luxe à la mode. ."
    }, {
        "product": "Enceinte pour PSP",
        "pics": ["assets/img/accessoires/psp/pspacc3.jpg"],
        "picsDescription": "Vue Enceinte pour PSP",
        "reference": "0000212",
        "price": 49,
        "infos": "Le Sound System pour PSP combine un système de haut-parleurs portable 2.1 et une station d'accueil et de recharge. Il a été conçu exclusivement pour la PSP afin de créer un mini théâtre permettant de visionner des films ou d'écouter de la musique"
    }, {
        "product": "Chargeur pour Nintendo Switch",
        "pics": ["assets/img/accessoires/Nintendo-switch/switchacc1.jpg"],
        "picsDescription": "Vue Chargeur Nintendo Switch",
        "reference": "0000213",
        "price": 30,
        "infos": "Permet de recharger 4 Joy-con, 1 manette Switch PRO et 2 Joy-con ou la console et 2 Joy-con.. Une colonne pour chaque Joy-con vous indique l'état de charge (environ 3h pour recharger 4 Joy-con simultanément)."
    }, {
        "product": "Clavier pour Nintendo Switch",
        "pics": ["assets/img/accessoires/Nintendo-switch/switchacc2.jpg"],
        "picsDescription": "Vue Clavier Nintendo Switch",
        "reference": "0000214",
        "price": 65,
        "infos": "Facile et confortable à utiliser, ce clavier sans fil 2.4G est de taper beaucoup plus rapide et plus pratique. Clavier QWERTY complet avec des chiffres et des lettres au Royaume-Uni. Le plus simple plug & Play installation et est livré avec une garantie de 1 an."
    }, {
        "product": "Volant pour Nintendo Switch Edition Mario Kart",
        "pics": ["assets/img/accessoires/Nintendo-switch/switchacc3.jpg"],
        "picsDescription": "Vue Volant Nintendo Switch Edition Mario Kart",
        "reference": "0000215",
        "price": 99,
        "infos": "Volant et pédales à l'effigie de Mario Kart compatible avec tous les jeux de course."
    }, {
        "product": "Clavier pour Playstation 4",
        "pics": ["assets/img/accessoires/PS4/ps4acc1.jpg"],
        "picsDescription": "Vue Clavier Playstation 4",
        "reference": "0000216",
        "price": 22,
        "infos": "Facile et confortable à utiliser, ce clavier sans fil 2.4G est de taper beaucoup plus rapide et plus pratique. Clavier QWERTY complet avec des chiffres et des lettres au Royaume-Uni. Le plus simple plug & Play installation et est livré avec une garantie de 1 an."
    }, {
        "product": "Manettes PS Move Motion pour Playstation 4",
        "pics": ["assets/img/accessoires/PS4/ps4acc2.jpeg"],
        "picsDescription": "Vue Manettes PS Move Motion Playstation 4",
        "reference": "0000217",
        "price": 35,
        "infos": "MANETTE PLAYSTATION PS MOVE MOTION COMPATIBLE PS3 PS4 ET PS5 + CABLE."
    }, {
        "product": "Volant pour Playstation 4",
        "pics": ["assets/img/accessoires/PS4/ps4acc3.jpg"],
        "picsDescription": "Vue Volant Playstation 4",
        "reference": "0000218",
        "price": 150,
        "infos": "Le volant T300RS Force Feedback permet aux joueurs de réellement s’immerger dans le monde de la course automobile et de perfectionner leurs talents de pilote pour améliorer leurs performances."
    }]
};

let resultDisplay = document.getElementById('section');
let basketData = new Array;
let allObjects = arrayData;
let nav = document.getElementById('nav');

let divContainer = document.createElement('div');
divContainer.className = 'container-fluid';
let divRow = document.createElement('div');
divRow.className = 'row';

let product = document.createElement('p'),
    img = document.createElement('img'),
    price = document.createElement('p'),
    divInfos = document.createElement('div');


arrayData.consoles.forEach(element => {
    let divProd = document.createElement('div');
    divProd.id = element.reference;
    divProd.dataset.name = element.product;
    divProd.dataset.price = element.price;
    divProd.dataset.ref = element.reference;
    divProd.dataset.img = element.pics[0];
    divProd.dataset.descriptif = element.infos;
    divProd.dataset.cat = "consoles";
    divProd.className = 'col-lg-4 col-sm-12 col-md-6 produit overflow-auto';
    let imgProd = document.createElement('img');
    imgProd.src = element.pics[0];
    imgProd.className = 'img-fluid';
    let myH2 = document.createElement('h2');
    myH2.textContent = element.product;
    divProd.appendChild(imgProd);
    divProd.appendChild(myH2);
    divContainer.appendChild(divRow);
    divRow.appendChild(divProd);
    resultDisplay.appendChild(divContainer);
});
arrayData.accessoires.forEach(element => {
    let divProd = document.createElement('div');
    divProd.id = element.reference;
    divProd.dataset.name = element.product;
    divProd.dataset.price = element.price;
    divProd.dataset.ref = element.reference;
    divProd.dataset.img = element.pics[0];
    divProd.dataset.descriptif = element.infos;
    divProd.dataset.cat = "accessoires";
    divProd.className = 'col-lg-4 col-sm-12 col-md-6 produit overflow-auto';
    let imgProd = document.createElement('img');
    imgProd.src = element.pics[0];
    imgProd.className = 'img-fluid';
    let myH2 = document.createElement('h2');
    myH2.textContent = element.product;
    divProd.appendChild(imgProd);
    divProd.appendChild(myH2);
    divProd.appendChild(price);
    divContainer.appendChild(divRow);
    divRow.appendChild(divProd);
    resultDisplay.appendChild(divContainer);
});
arrayData.jeux.forEach(element => {
    let divProd = document.createElement('div');
    divProd.id = element.reference;
    divProd.dataset.name = element.product;
    divProd.dataset.price = element.price;
    divProd.dataset.ref = element.reference;
    divProd.dataset.img = element.pics[0];
    divProd.dataset.descriptif = element.infos;
    divProd.dataset.cat = "jeux";
    divProd.className = 'col-lg-4 col-sm-12 col-md-6 produit overflow-auto';
    let imgProd = document.createElement('img');
    imgProd.src = element.pics;
    imgProd.className = 'img-fluid';
    let myH2 = document.createElement('h2');
    myH2.textContent = element.product;
    divProd.appendChild(imgProd);
    divProd.appendChild(myH2);
    divProd.appendChild(price);
    divContainer.appendChild(divRow);
    divRow.appendChild(divProd);
    resultDisplay.appendChild(divContainer);
});

let catConsoles = document.querySelector('#consoles');
let catJeux = document.querySelector('#jeux');
let catAccessories = document.querySelector('#accessories');
let catAll = document.querySelector('#all');

catConsoles.addEventListener('click', function (evt) {
    evt.preventDefault();
    console.log('ok');
    document.querySelectorAll('[data-cat~="consoles"]').forEach(element => {
        element.classList.remove('invisible');
    });
    document.querySelectorAll('[data-cat~="jeux"]').forEach(element => {
        element.classList.add('invisible');
    });
    document.querySelectorAll('[data-cat~="accessoires"]').forEach(element => {
        element.classList.add('invisible');
    });
})
catJeux.addEventListener('click', function (evt) {
    evt.preventDefault();
    console.log('ok');
    document.querySelectorAll('[data-cat~="consoles"]').forEach(element => {
        element.classList.add('invisible');
    });
    document.querySelectorAll('[data-cat~="accessoires"]').forEach(element => {
        element.classList.add('invisible');
    });
    document.querySelectorAll('[data-cat~="jeux"]').forEach(element => {
        element.classList.remove('invisible');
    });
})
catAccessories.addEventListener('click', function (evt) {
    evt.preventDefault();
    console.log('ok');
    document.querySelectorAll('[data-cat~="consoles"]').forEach(element => {
        element.classList.add('invisible');
    });
    document.querySelectorAll('[data-cat~="jeux"]').forEach(element => {
        element.classList.add('invisible');
    });
    document.querySelectorAll('[data-cat~="accessoires"]').forEach(element => {
        element.classList.remove('invisible');
    });
})
catAll.addEventListener('click', function (evt) {
    evt.preventDefault();
    console.log('ok');
    document.querySelectorAll('[data-cat~="consoles"]').forEach(element => {
        element.classList.remove('invisible');
    });
    document.querySelectorAll('[data-cat~="jeux"]').forEach(element => {
        element.classList.remove('invisible');
    });
    document.querySelectorAll('[data-cat~="accessoires"]').forEach(element => {
        element.classList.remove('invisible');
    });
})

let produits = document.querySelectorAll('.produit');
// Get the modal


let modal = document.getElementById("myModal"),
    span = document.getElementsByClassName("close")[0],
    modalContent = document.getElementById('modalContent');


produits.forEach(produit => {
    let addToBasket = document.createElement('a'),
        descriptif = document.createElement('p'),
        price = document.createElement('p');
        price.className ='price'
price.textContent = produit.getAttribute('data-price') + "€";
    descriptif.textContent = produit.getAttribute('data-descriptif');
    addToBasket.textContent = 'Ajouter au panier';
    produit.appendChild(descriptif);
    produit.appendChild(price);
    produit.appendChild(addToBasket);

    addToBasket.addEventListener('click', function () {
        let quantity = 1;
        let RowSubtotal = produit.getAttribute('data-price') * quantity;
        goBasketTable(produit.getAttribute('data-cat'), produit.getAttribute('data-ref'), produit.getAttribute('data-name'), produit.getAttribute('data-price'), quantity, RowSubtotal);
    })
})


let basket = document.createElement('table');

function goBasketTable(cat, ref, name, price, quantity, rowSub) {

    let total = [];
    let more =
        `<button class="col lg-1 col-1 btn btn-light border border-dark d-flex justify-content-center align-items-center more"
    value="+">+</button>
    <button class="col lg-1 col-1 btn btn-light border border-dark d-flex justify-content-center align-items-center less"
    value="-">-</button>`;
    let sousTotal = [cat, ref, name, price, quantity, more, rowSub];
    let rows = document.createElement('tr');
    sousTotal.forEach((element, key) => {
        let cells = document.createElement('td');
        if (key == 4) {
            cells.id = 'q' + sousTotal[1];
        }
        if (key == 6) {
            cells.id = 't' + sousTotal[1];
            cells.className = 'sousTot'
        }
        cells.innerHTML = element;
        console.log(element);
        rows.appendChild(cells);
    });
    basketData.push(sousTotal);
    basket.appendChild(rows);
    modalContent.appendChild(basket);
    let moreBtn = document.querySelectorAll('.more');
    let lorie = document.getElementById('q' + sousTotal[1]);
    let thomas = document.getElementById('t' + sousTotal[1]);
    moreBtn.forEach(element => {
        element.addEventListener('click', function () {
            quantity++;
            sousTotal.splice(4, 1, quantity);
            let newRowSub = rowSub * quantity;
            sousTotal.splice(6, 1, newRowSub);
            console.log(lorie);
            lorie.innerHTML = quantity;
            thomas.innerHTML = newRowSub;
        })
    })
    let lessBtn = document.querySelectorAll('.less')
    lessBtn.forEach(element => {
        element.addEventListener('click', function () {
            quantity--;
            sousTotal.splice(4, 1, quantity);
            let newRowSub = rowSub * quantity;
            sousTotal.splice(6, 1, newRowSub);
            lorie.innerHTML = quantity;
            thomas.innerHTML = newRowSub;
        })
    })
    modal.style.display = "block";
}





let myBasket = document.getElementById('panierButton');

//Panier vide
myBasket.onclick = function () {
    if (basket.childElementCount == 0) {
        alert('Le panier est vide')
    } else if (basket.childElementCount >= 1) {
        modal.style.display = "block";
    }
}

span.onclick = function () {
    modal.style.display = "none";
}
window.onclick = function (event) {
    if (event.target == modal) {
        modal.style.display = "none";
    }
}